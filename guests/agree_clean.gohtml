{{- /*
  Author: Vladlena Costescu (@lbds137)
  Trigger type: `Regex`
  Trigger: `.*`
*/ -}}

{{ $trigger := .Message.Content }}
{{ if not (reFind "\\Ay\\^agree\\z" $trigger) }}
    {{ $result := "⚠️ You must enter the correct command for agreeing to the rules: `y^agree`" }}

    {{ $commandsCategoryID := toInt (dbGet 0 "Commands").Value }}
    {{ $embed_exec := toInt (dbGet $commandsCategoryID "embed_exec").Value }}
    {{ execCC $embed_exec nil 0 (sdict "Title" "Invalid Agreement Command" "Description" $result "DeleteResponse" true "DeleteDelay" 5) }}

    {{ deleteTrigger 0 }}
{{ end }}
